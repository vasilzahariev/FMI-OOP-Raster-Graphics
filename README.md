# FMI-OOP-Raster-Graphics

# Структура (само за референция в кода ще има повече методи и полета):
- class **String**
- class **IClonable**
- class **PolymorphicVector**
- class **Matrix**
- class **Image**
  - *public*:
    - bool **isGrayscale**() const;
    - bool **isMonochrome**() const;
  - *private*:
    - Matrix\<std::uint8_t> m_pixels;
    - sdt::string **m_filePath**;
    - bool **bGrayscale**;
    - bool **bMonochrome**;
- class **PPMImage** : public **Image**
- class **PGMImage** : public **Image**
- class **PBMImage** : public **Image**
- class **Command**
- class **Engine**

# Описание на нещата:
## Основни команди:
- Възможни команди:
  - **open** - отваря файл по който може да се правят промени
  - **save** - запазва гореспоменатите промени обратно във файла
  - **saveas** - запаза гореспоменатите промени обратно в друг файл
  - **close** - затваря файла като може да има незапазени промени
- Командата може да 0, 1 или повече аргументи (аргументите се разделят от 1 или няколко интервала)
  - Някои команди може да изискват допълнителна информация по време на изпълнението си
- Съдържанието на файлът, който се отваря трябва да бъде запазено в паметта и само при операции **save** и **saveas** да бъде запазвана тази памет обратно във файла.
- При изход от програмата трябва да има подсещане за запазване ако има незапазени промени
- Всяка команда извежда съобщение дали всичко е минало окей

### Команда **open**:
- Отваря файл (ако не същестува такъв го създвава паразен), прочита цялата му информация и я запазва в паметта и го затваря
- При грешка се извежда подходящо съобщение и се прекратява изпълнението
- Аргументи (1):
  - Низ - Локацията на файла

### Команда **close**:
- Затваря текущо отворения файл и изтрива запазената памет
- След **close** не може да се вика никоя друга команда освен **open**
- Аргументи (0)

### Команда **save**:
- Запазва обратно във файла, ако има отворен файл.
- Аргументи (0)

### Команда **saveas**:
- Запазва обратно в подаден файл, но само ако има отворен файл.
- Аргументи (1)
  - Низ - Локация на файла, в който ще се запази информацията

### Команда **help**:
- Извежда информация за поддържаните от програмата команди

### Команда **exit**:
- Ако няма отворен файл просто затваря файла, иначе пита да се запази или затвори първо

## Потребителска сесия
- Команда **open** създава потребителска сесия с уникален номер
- В сесията може да има повече от една заредена снимка
- В една сесия всяка операция важи за всички снимки
- Командата **saveas** важи само за първото заредено изображение

## Операции върху изображенията

### Команда **grayscale**:
- Преобразува всички цветни (без черно-белите) изображения в такива използващи нюанси на сивото

### Команда **monochrome**:
- Като **grayscale** ама сивото (тоест само черно и бяло). Не променя тези които са *monochrome*

### Команда **negative**:
- Прилага трансформация негатив

### Команда **rotate**:
- Завърта на 90 градуса
- Аргументи (1):
  - direction - left или right

### Команда **undo**:
- Отменя последната операция (няма ефект върху open)

### Команда **add**:
- Преобразува всички цветни (без черно-белите) изображения в такива използващи нюанси на сивото
- Аргументи (1):
  - image - локацията на снимката която искаме да добавим

### Команда **session info**:
- Връща текущният идентификатор за сесията, кои са участващите изображения, кои операции още не са запазени

### Команда **collage**:
- Създава колаж от image1 и image2
- Аргументи (4):
  - direction - horizontal или vertical 
  - image1 - локация на снимка
  - image 2 - локация на снимка
  - outimage - нова снимка която се добавя към сесията
